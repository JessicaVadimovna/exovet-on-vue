import{_ as f,c as o,b as s,h as I,m as y,F as h,e as u,n as v,w as x,k as w,q as b,s as k,f as d,g as m}from"./index-usEQ-D7p.js";const C="/exovet-on-vue/assets/heart%20(2)-C1Fbn_G9.png",P={name:"Gallery",data(){return{currentIndex:0,selectedImage:null,isAutoPlaying:!0,autoPlayInterval:null,thumbnailOffset:0,thumbnailWidth:100,thumbnailGap:12,galleryImages:[{id:1,src:"./assets/img/photo/pet1.jpg",alt:"Пациент 1"},{id:2,src:"./assets/img/photo/pet2.jpg",alt:"Пациент 2"},{id:3,src:"./assets/img/photo/pet3.jpg",alt:"Пациент 3"},{id:4,src:"./assets/img/photo/pet4.jpg",alt:"Пациент 4"},{id:5,src:"./assets/img/photo/pet5.jpg",alt:"Пациент 5"},{id:6,src:"./assets/img/photo/pet6.png",alt:"Пациент 6"},{id:7,src:"./assets/img/photo/pet7.png",alt:"Пациент 7"},{id:8,src:"./assets/img/photo/pet8.png",alt:"Пациент 8"},{id:9,src:"./assets/img/photo/pet9.png",alt:"Пациент 9"},{id:10,src:"./assets/img/photo/pet10.png",alt:"Пациент 10"},{id:11,src:"./assets/img/photo/pet11.png",alt:"Пациент 11"},{id:12,src:"./assets/img/photo/pet12.png",alt:"Пациент 12"},{id:13,src:"./assets/img/photo/pet13.png",alt:"Пациент 13"},{id:14,src:"./assets/img/photo/pet14.png",alt:"Пациент 14"},{id:15,src:"./assets/img/photo/pet15.png",alt:"Пациент 15"},{id:16,src:"./assets/img/photo/pet16.png",alt:"Пациент 16"},{id:17,src:"./assets/img/photo/pet17.png",alt:"Пациент 17"},{id:18,src:"./assets/img/photo/pet18.png",alt:"Пациент 18"},{id:19,src:"./assets/img/photo/pet19.png",alt:"Пациент 19"},{id:20,src:"./assets/img/photo/pet20.png",alt:"Пациент 20"},{id:21,src:"./assets/img/photo/pet21.png",alt:"Пациент 21"},{id:22,src:"./assets/img/photo/pet22.png",alt:"Пациент 22"},{id:23,src:"./assets/img/photo/pet23.png",alt:"Пациент 23"},{id:24,src:"./assets/img/photo/pet24.png",alt:"Пациент 24"},{id:25,src:"./assets/img/photo/pet25.png",alt:"Пациент 25"}]}},computed:{cyclicThumbnails(){const a=[];this.galleryImages.length;for(let t=0;t<3;t++)this.galleryImages.forEach((c,g)=>{a.push({...c,originalIndex:g,cycleIndex:t})});return a}},mounted(){this.startAutoPlay(),window.addEventListener("resize",this.updateThumbnailOffset),this.$nextTick(()=>{this.updateThumbnailOffset()})},beforeUnmount(){this.stopAutoPlay(),window.removeEventListener("resize",this.updateThumbnailOffset)},watch:{currentIndex(a){this.updateThumbnailOffset()}},methods:{nextSlide(){this.currentIndex=(this.currentIndex+1)%this.galleryImages.length},prevSlide(){this.currentIndex=this.currentIndex===0?this.galleryImages.length-1:this.currentIndex-1},getNextIndex(){return(this.currentIndex+1)%this.galleryImages.length},getPrevIndex(){return this.currentIndex===0?this.galleryImages.length-1:this.currentIndex-1},goToSlide(a){a>=0&&a<this.galleryImages.length&&(this.currentIndex=a)},openModal(a){this.selectedImage=a,document.body.style.overflow="hidden"},closeModal(){this.selectedImage=null,document.body.style.overflow="auto"},startAutoPlay(){this.isAutoPlaying&&(this.autoPlayInterval=setInterval(()=>{this.nextSlide()},5e3))},stopAutoPlay(){this.autoPlayInterval&&(clearInterval(this.autoPlayInterval),this.autoPlayInterval=null)},pauseAutoPlay(){this.stopAutoPlay()},resumeAutoPlay(){this.isAutoPlaying&&this.startAutoPlay()},handleImageError(a){console.warn("Не удалось загрузить изображение:",a.target.src),a.target.src='data:image/svg+xml;charset=UTF-8,%3Csvg xmlns="http://www.w3.org/2000/svg" width="800" height="600" viewBox="0 0 800 600"%3E%3Crect fill="%23f3f4f6" width="800" height="600"/%3E%3Ctext fill="%239ca3af" font-family="Arial" font-size="40" dy=".5em" text-anchor="middle" x="400" y="300"%3EИзображение не загружено%3C/text%3E%3C/svg%3E'},updateThumbnailOffset(){const a=this.$refs.thumbnailsContainer;if(!a)return;const t=a.offsetWidth,c=this.thumbnailWidth+this.thumbnailGap,g=Math.floor(t/c),e=this.galleryImages.length+this.currentIndex,r=Math.floor(g/2)*c;let i=e*c-r;const p=(this.cyclicThumbnails.length-g)*c;i=Math.max(0,Math.min(i,p)),this.thumbnailOffset=i}}},M={class:"gallery-container"},A={class:"carousel-wrapper"},E={class:"slides-container"},T=["onClick"],S=["src","alt"],_={class:"indicators"},O=["onClick"],j={class:"thumbnails-container",ref:"thumbnailsContainer"},B=["onClick"],N=["src","alt"],z={class:"modal-image-container"},G=["src","alt"];function V(a,t,c,g,n,l){return d(),o("div",M,[t[12]||(t[12]=s("div",{class:"gallery-header"},[s("h1",{class:"gallery-title"},[y(" Наши экзотические пациенты "),s("img",{src:C,alt:""})])],-1)),s("div",{class:"carousel-container",onMouseenter:t[3]||(t[3]=(...e)=>l.pauseAutoPlay&&l.pauseAutoPlay(...e)),onMouseleave:t[4]||(t[4]=(...e)=>l.resumeAutoPlay&&l.resumeAutoPlay(...e))},[s("div",A,[s("div",E,[(d(!0),o(h,null,u(n.galleryImages,(e,r)=>(d(),o("div",{key:e.id,class:m(["carousel-slide",{"slide-active":r===n.currentIndex,"slide-next":r===l.getNextIndex(),"slide-prev":r===l.getPrevIndex()}]),onClick:i=>l.openModal(e)},[s("img",{src:e.src,alt:e.alt,class:"carousel-image",onError:t[0]||(t[0]=(...i)=>l.handleImageError&&l.handleImageError(...i))},null,40,S)],10,T))),128))])]),s("button",{class:"nav-button nav-button-left",onClick:t[1]||(t[1]=(...e)=>l.prevSlide&&l.prevSlide(...e)),"aria-label":"Предыдущее изображение"},t[9]||(t[9]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[s("path",{d:"M15 18l-6-6 6-6"})],-1)])),s("button",{class:"nav-button nav-button-right",onClick:t[2]||(t[2]=(...e)=>l.nextSlide&&l.nextSlide(...e)),"aria-label":"Следующее изображение"},t[10]||(t[10]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[s("path",{d:"M9 18l6-6-6-6"})],-1)])),s("div",_,[(d(!0),o(h,null,u(n.galleryImages.slice(0,8),(e,r)=>(d(),o("button",{key:"indicator-"+e.id,class:m(["indicator",{active:r===n.currentIndex%8}]),onClick:i=>l.goToSlide(r+Math.floor(n.currentIndex/8)*8)},null,10,O))),128))])],32),s("div",j,[s("div",{class:"thumbnails-track",style:v({transform:`translateX(-${n.thumbnailOffset}px)`})},[(d(!0),o(h,null,u(l.cyclicThumbnails,(e,r)=>(d(),o("div",{key:"thumb-"+e.originalIndex+"-"+e.cycleIndex,class:m(["thumbnail",{active:e.originalIndex===n.currentIndex}]),onClick:i=>l.goToSlide(e.originalIndex)},[s("img",{src:e.src,alt:e.alt},null,8,N)],10,B))),128))],4)],512),I(k,{name:"modal"},{default:x(()=>[n.selectedImage?(d(),o("div",{key:0,class:"modal-backdrop",onClick:t[8]||(t[8]=(...e)=>l.closeModal&&l.closeModal(...e))},[s("div",{class:"modal-content",onClick:t[7]||(t[7]=b(()=>{},["stop"]))},[s("div",z,[s("img",{src:n.selectedImage.src,alt:n.selectedImage.alt,class:"modal-image",onError:t[5]||(t[5]=(...e)=>l.handleImageError&&l.handleImageError(...e))},null,40,G),s("button",{class:"modal-close-button",onClick:t[6]||(t[6]=(...e)=>l.closeModal&&l.closeModal(...e)),"aria-label":"Закрыть модальное окно"},t[11]||(t[11]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[s("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))])])])):w("",!0)]),_:1})])}const F=f(P,[["render",V],["__scopeId","data-v-0a917006"]]);export{F as default};
