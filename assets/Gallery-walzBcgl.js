import{d as N,r as n,m as S,p as z,o as V,q as W,s as q,_ as G,c as d,b as t,h as K,l as D,g as E,F as R,e as $,w as F,k as O,v as k,t as C,x as U,y as Y,f as p}from"./index-B2CBymvE.js";const H=N({name:"ModernGallery",setup(){const e=n([{src:"./assets/img/photo/pet1.jpg",alt:"Пациент 1"},{src:"./assets/img/photo/pet2.jpg",alt:"Пациент 2"},{src:"./assets/img/photo/pet3.jpg",alt:"Пациент 3"},{src:"./assets/img/photo/pet4.jpg",alt:"Пациент 4"},{src:"./assets/img/photo/pet5.jpg",alt:"Пациент 5"},{src:"./assets/img/photo/pet6.png",alt:"Пациент 6"},{src:"./assets/img/photo/pet7.png",alt:"Пациент 7"},{src:"./assets/img/photo/pet8.png",alt:"Пациент 8"},{src:"./assets/img/photo/pet9.png",alt:"Пациент 9"},{src:"./assets/img/photo/pet10.png",alt:"Пациент 10"},{src:"./assets/img/photo/pet11.png",alt:"Пациент 11"},{src:"./assets/img/photo/pet12.png",alt:"Пациент 12"},{src:"./assets/img/photo/pet13.png",alt:"Пациент 13"},{src:"./assets/img/photo/pet14.png",alt:"Пациент 14"},{src:"./assets/img/photo/pet15.png",alt:"Пациент 15"},{src:"./assets/img/photo/pet16.png",alt:"Пациент 16"},{src:"./assets/img/photo/pet17.png",alt:"Пациент 17"},{src:"./assets/img/photo/pet18.png",alt:"Пациент 18"},{src:"./assets/img/photo/pet19.png",alt:"Пациент 19"},{src:"./assets/img/photo/pet20.png",alt:"Пациент 20"},{src:"./assets/img/photo/pet21.png",alt:"Пациент 21"},{src:"./assets/img/photo/pet22.png",alt:"Пациент 22"},{src:"./assets/img/photo/pet23.png",alt:"Пациент 23"},{src:"./assets/img/photo/pet24.png",alt:"Пациент 24"},{src:"./assets/img/photo/pet25.png",alt:"Пациент 25"}]),a=S(()=>[...e.value,...e.value]),v=n(!1),u=n(!1),g=n(""),c=n(""),s=n(0),i=n(null),l=n(null),h=n(0),r=n(4),f=S(()=>Math.ceil(e.value.length/r.value)),M=()=>{const o=window.innerWidth;o<=480?r.value=2:o<=768?r.value=3:r.value=4},j=(o,m,y)=>{g.value=o,c.value=m,s.value=y%e.value.length,u.value=!0,document.body.style.overflow="hidden",q(()=>{i.value?.focus()})},I=()=>{u.value=!1,document.body.style.overflow="auto"},b=()=>{s.value=(s.value-1+e.value.length)%e.value.length,g.value=e.value[s.value].src,c.value=e.value[s.value].alt},P=()=>{s.value=(s.value+1)%e.value.length,g.value=e.value[s.value].src,c.value=e.value[s.value].alt},T=()=>{v.value=!0},A=()=>{v.value=!1},B=o=>{if(h.value=Math.max(0,Math.min(o,f.value-1)),l.value){const m=l.value.querySelector(".slide-item")?.getBoundingClientRect().width||320;l.value.scrollTo({left:h.value*m*r.value,behavior:"smooth"})}},w=()=>{if(l.value){const o=l.value.querySelector(".slide-item")?.getBoundingClientRect().width||320,m=l.value.scrollLeft,y=Math.floor(m/(o*r.value));h.value=Math.max(0,Math.min(y,f.value-1))}};z(()=>l.value?.scrollLeft,()=>{w()}),V(()=>{M(),window.addEventListener("resize",M),document.addEventListener("keydown",L),l.value?.addEventListener("scroll",w)}),W(()=>{window.removeEventListener("resize",M),document.removeEventListener("keydown",L),l.value?.removeEventListener("scroll",w)});const L=o=>{if(u.value)switch(o.key){case"Escape":I();break;case"ArrowLeft":b();break;case"ArrowRight":P();break}};return{images:e,duplicatedImages:a,isPaused:v,isModalOpen:u,modalImageSrc:g,modalAlt:c,currentIndex:s,modalRef:i,sliderRef:l,currentPage:h,pageCount:f,openModal:j,closeModal:I,prevModalImage:b,nextModalImage:P,pauseSlider:T,resumeSlider:A,goToPage:B}}}),J="/exovet-on-vue/assets/emoji-heart-oWYyIgl3.png",Q={id:"gallery",class:"gallery"},X={class:"container"},Z={class:"slider-wrapper"},x={class:"slider",ref:"sliderRef"},_=["onClick"],ee={class:"image-wrapper"},se=["src","alt"],ae={class:"pagination"},te=["onClick","aria-label"],le={class:"modal-content"},oe=["src","alt"],ne={class:"modal-info"},ie={class:"modal-counter"};function re(e,a,v,u,g,c){return p(),d("section",Q,[t("div",X,[a[11]||(a[11]=t("div",{class:"gallery-header"},[t("h1",{class:"gallery-title"},[D(" Наши пациенты "),t("span",{class:"heart-icon"},[t("img",{src:J,alt:""})])])],-1)),t("div",Z,[t("div",x,[t("div",{class:E(["slider-track",{paused:e.isPaused}])},[(p(!0),d(R,null,$(e.duplicatedImages,(s,i)=>(p(),d("div",{key:i,class:"slide-item",onClick:l=>e.openModal(s.src,s.alt,i),onMouseenter:a[0]||(a[0]=(...l)=>e.pauseSlider&&e.pauseSlider(...l)),onMouseleave:a[1]||(a[1]=(...l)=>e.resumeSlider&&e.resumeSlider(...l))},[t("div",ee,[t("img",{src:s.src,alt:s.alt,class:"gallery-image",loading:"lazy"},null,8,se),a[10]||(a[10]=t("div",{class:"overlay"},[t("div",{class:"overlay-content"},[t("span",{class:"view-icon"},"👁"),t("span",{class:"view-text"},"Посмотреть")])],-1))])],40,_))),128))],2)],512),t("div",ae,[(p(!0),d(R,null,$(e.pageCount,s=>(p(),d("button",{key:s,class:E(["pagination-dot",{active:e.currentPage===s-1}]),onClick:i=>e.goToPage(s-1),"aria-label":`Go to page ${s}`},null,10,te))),128))])])]),K(Y,{name:"modal"},{default:F(()=>[e.isModalOpen?(p(),d("div",{key:0,class:"modal-backdrop",onClick:a[6]||(a[6]=(...s)=>e.closeModal&&e.closeModal(...s)),onKeydown:[a[7]||(a[7]=k((...s)=>e.closeModal&&e.closeModal(...s),["esc"])),a[8]||(a[8]=k((...s)=>e.prevModalImage&&e.prevModalImage(...s),["left"])),a[9]||(a[9]=k((...s)=>e.nextModalImage&&e.nextModalImage(...s),["right"]))],tabindex:"0",ref:"modalRef"},[t("div",{class:"modal-container",onClick:a[5]||(a[5]=U(()=>{},["stop"]))},[t("button",{class:"modal-close",onClick:a[2]||(a[2]=(...s)=>e.closeModal&&e.closeModal(...s)),"aria-label":"Close"}," ✕ "),t("button",{class:"modal-nav prev",onClick:a[3]||(a[3]=(...s)=>e.prevModalImage&&e.prevModalImage(...s)),"aria-label":"Previous image"}," ‹ "),t("div",le,[t("img",{src:e.modalImageSrc,alt:e.modalAlt,class:"modal-image"},null,8,oe),t("div",ne,[t("h3",null,C(e.modalAlt),1),t("span",ie,C(e.currentIndex+1)+" из "+C(e.images.length),1)])]),t("button",{class:"modal-nav next",onClick:a[4]||(a[4]=(...s)=>e.nextModalImage&&e.nextModalImage(...s)),"aria-label":"Next image"}," › ")])],544)):O("",!0)]),_:1})])}const pe=G(H,[["render",re],["__scopeId","data-v-7cec3add"]]);export{pe as default};
